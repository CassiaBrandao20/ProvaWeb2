{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n// import './ListarProduto.css';\n\n// const ListarProdutos = () => {\n//   const [produtos, setProdutos] = useState([]);\n//   const [editingId, setEditingId] = useState(null);\n//   const [categorias, setCategorias] = useState([]);\n\n//   useEffect(() => {\n//     fetchProdutos();\n//     fetchCategorias();\n//   }, []);\n\n//   const fetchProdutos = async () => {\n//     try {\n//       const response = await axios.get('http://localhost:4003/produtos');\n//       setProdutos(response.data);\n//     } catch (error) {\n//       console.error(error);\n//     }\n//   };\n\n//   const fetchCategorias = async () => {\n//     try {\n//       const response = await axios.get('http://localhost:4003/categorias');\n//       setCategorias(response.data);\n//     } catch (error) {\n//       console.error(error);\n//     }\n//   };\n\n//   const handleVoltar = () => {\n//     navigate('/cadastroProduto');\n//   };\n\n//   const navigate = useNavigate();\n\n//   const handleDelete = async (id) => {\n//     try {\n//       await axios.delete(`http://localhost:4003/produto/${id}`);\n//       fetchProdutos();\n//     } catch (error) {\n//       console.error(error);\n//     }\n//   };\n\n// const handleInputChange = (e, id) => {\n//   const { name, value } = e.target;\n//   setProdutos((prevState) =>\n//     prevState.map((produto) =>\n//       produto.id === id ? { ...produto, [name]: value } : produto\n//     )\n//   );\n// };\n\n//   const handleSalvar = async (id) => {\n//     try {\n//       const produto = produtos.find((produto) => produto.id === id);\n//       const { nome, descricao, categoriaId } = produto;\n\n//       await axios.put(`http://localhost:4003/produto/${id}`, { nome, descricao, categoriaId });\n//       setEditingId(null);\n//       fetchProdutos();\n//     } catch (error) {\n//       console.error(error);\n//     }\n//   };\n\n//   const handleCancelarEdicao = () => {\n//     setEditingId(null);\n//   };\n\n//   const handleEditar = (id) => {\n//     setEditingId(id);\n//   };\n\n//   return (\n//     <div className=\"container-lista\">\n//       <h1>Lista de Produtos</h1>\n//       <table className=\"table\">\n//         <thead>\n//           <tr>\n//             <th>Nome</th>\n//             <th>Descrição</th>\n//             <th>Categoria</th>\n//             <th>Ações</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {produtos.map((produto) => (\n//             <tr key={produto.id}>\n//               <td>\n//                 {editingId === produto.id ? (\n//                   <input\n//                     type=\"text\"\n//                     name=\"nome\"\n//                     value={produto.nome}\n//                     onChange={(e) => handleInputChange(e, produto.id)}\n//                   />\n//                 ) : (\n//                   produto.nome\n//                 )}\n//               </td>\n//               <td>\n//                 {editingId === produto.id ? (\n//                   <input\n//                     type=\"text\"\n//                     name=\"descricao\"\n//                     value={produto.descricao}\n//                     onChange={(e) => handleInputChange(e, produto.id)}\n//                   />\n//                 ) : (\n//                   produto.descricao\n//                 )}\n//               </td>\n//               <td>\n//                {editingId === produto.id ? (\n//   <select\n//     name=\"categoriaId\"\n//     value={produto.categoriaId}\n//     onChange={(e) => handleInputChange(e, produto.id)}\n//   >\n//     <option value=\"\">Selecione uma categoria</option>\n//     {categorias.map((categoria) => (\n//       <option key={categoria.id} value={categoria.id}>\n//         {categoria.nome}\n//       </option>\n//     ))}\n//   </select>\n// ) : (\n//   categorias.find((categoria) => categoria.id === produto.categoriaId)?.nome\n// )}\n//               </td>\n//               <td>\n//                 {editingId === produto.id ? (\n//                   <>\n//                     <button className=\"button\" onClick={() => handleSalvar(produto.id)}>\n//                       Salvar\n//                     </button>\n//                     <button className=\"button button-space\" onClick={() => handleCancelarEdicao()}>\n//                       Cancelar\n//                     </button>\n//                   </>\n//                 ) : (\n//                   <>\n//                     <button className=\"button\" onClick={() => handleEditar(produto.id)}>\n//                       Alterar\n//                     </button>\n//                     <button className=\"button button-space\" onClick={() => handleDelete(produto.id)}>\n//                       Deletar\n//                     </button>\n//                   </>\n//                 )}\n//               </td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//       <div>\n//         <button type=\"button\" className=\"buttonVoltar\" onClick={handleVoltar}>\n//           Voltar\n//         </button>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default ListarProdutos;","map":{"version":3,"names":[],"sources":["E:/PROJETOS/GIT/SISTEMA DE ATIVIDADE/ClientWeb/src/pages/ListarProdutos/ListarProdutos.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\r\n// import axios from 'axios';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import './ListarProduto.css';\r\n\r\n// const ListarProdutos = () => {\r\n//   const [produtos, setProdutos] = useState([]);\r\n//   const [editingId, setEditingId] = useState(null);\r\n//   const [categorias, setCategorias] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     fetchProdutos();\r\n//     fetchCategorias();\r\n//   }, []);\r\n\r\n//   const fetchProdutos = async () => {\r\n//     try {\r\n//       const response = await axios.get('http://localhost:4003/produtos');\r\n//       setProdutos(response.data);\r\n//     } catch (error) {\r\n//       console.error(error);\r\n//     }\r\n//   };\r\n\r\n//   const fetchCategorias = async () => {\r\n//     try {\r\n//       const response = await axios.get('http://localhost:4003/categorias');\r\n//       setCategorias(response.data);\r\n//     } catch (error) {\r\n//       console.error(error);\r\n//     }\r\n//   };\r\n\r\n//   const handleVoltar = () => {\r\n//     navigate('/cadastroProduto');\r\n//   };\r\n\r\n//   const navigate = useNavigate();\r\n\r\n//   const handleDelete = async (id) => {\r\n//     try {\r\n//       await axios.delete(`http://localhost:4003/produto/${id}`);\r\n//       fetchProdutos();\r\n//     } catch (error) {\r\n//       console.error(error);\r\n//     }\r\n//   };\r\n\r\n// const handleInputChange = (e, id) => {\r\n//   const { name, value } = e.target;\r\n//   setProdutos((prevState) =>\r\n//     prevState.map((produto) =>\r\n//       produto.id === id ? { ...produto, [name]: value } : produto\r\n//     )\r\n//   );\r\n// };\r\n\r\n\r\n//   const handleSalvar = async (id) => {\r\n//     try {\r\n//       const produto = produtos.find((produto) => produto.id === id);\r\n//       const { nome, descricao, categoriaId } = produto;\r\n\r\n//       await axios.put(`http://localhost:4003/produto/${id}`, { nome, descricao, categoriaId });\r\n//       setEditingId(null);\r\n//       fetchProdutos();\r\n//     } catch (error) {\r\n//       console.error(error);\r\n//     }\r\n//   };\r\n\r\n//   const handleCancelarEdicao = () => {\r\n//     setEditingId(null);\r\n//   };\r\n\r\n//   const handleEditar = (id) => {\r\n//     setEditingId(id);\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"container-lista\">\r\n//       <h1>Lista de Produtos</h1>\r\n//       <table className=\"table\">\r\n//         <thead>\r\n//           <tr>\r\n//             <th>Nome</th>\r\n//             <th>Descrição</th>\r\n//             <th>Categoria</th>\r\n//             <th>Ações</th>\r\n//           </tr>\r\n//         </thead>\r\n//         <tbody>\r\n//           {produtos.map((produto) => (\r\n//             <tr key={produto.id}>\r\n//               <td>\r\n//                 {editingId === produto.id ? (\r\n//                   <input\r\n//                     type=\"text\"\r\n//                     name=\"nome\"\r\n//                     value={produto.nome}\r\n//                     onChange={(e) => handleInputChange(e, produto.id)}\r\n//                   />\r\n//                 ) : (\r\n//                   produto.nome\r\n//                 )}\r\n//               </td>\r\n//               <td>\r\n//                 {editingId === produto.id ? (\r\n//                   <input\r\n//                     type=\"text\"\r\n//                     name=\"descricao\"\r\n//                     value={produto.descricao}\r\n//                     onChange={(e) => handleInputChange(e, produto.id)}\r\n//                   />\r\n//                 ) : (\r\n//                   produto.descricao\r\n//                 )}\r\n//               </td>\r\n//               <td>\r\n//                {editingId === produto.id ? (\r\n//   <select\r\n//     name=\"categoriaId\"\r\n//     value={produto.categoriaId}\r\n//     onChange={(e) => handleInputChange(e, produto.id)}\r\n//   >\r\n//     <option value=\"\">Selecione uma categoria</option>\r\n//     {categorias.map((categoria) => (\r\n//       <option key={categoria.id} value={categoria.id}>\r\n//         {categoria.nome}\r\n//       </option>\r\n//     ))}\r\n//   </select>\r\n// ) : (\r\n//   categorias.find((categoria) => categoria.id === produto.categoriaId)?.nome\r\n// )}\r\n//               </td>\r\n//               <td>\r\n//                 {editingId === produto.id ? (\r\n//                   <>\r\n//                     <button className=\"button\" onClick={() => handleSalvar(produto.id)}>\r\n//                       Salvar\r\n//                     </button>\r\n//                     <button className=\"button button-space\" onClick={() => handleCancelarEdicao()}>\r\n//                       Cancelar\r\n//                     </button>\r\n//                   </>\r\n//                 ) : (\r\n//                   <>\r\n//                     <button className=\"button\" onClick={() => handleEditar(produto.id)}>\r\n//                       Alterar\r\n//                     </button>\r\n//                     <button className=\"button button-space\" onClick={() => handleDelete(produto.id)}>\r\n//                       Deletar\r\n//                     </button>\r\n//                   </>\r\n//                 )}\r\n//               </td>\r\n//             </tr>\r\n//           ))}\r\n//         </tbody>\r\n//       </table>\r\n//       <div>\r\n//         <button type=\"button\" className=\"buttonVoltar\" onClick={handleVoltar}>\r\n//           Voltar\r\n//         </button>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default ListarProdutos;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}